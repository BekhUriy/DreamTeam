var R=(e,t,o)=>{if(!t.has(e))throw TypeError("Cannot "+o)};var c=(e,t,o)=>(R(e,t,"read from private field"),o?o.call(e):t.get(e)),B=(e,t,o)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,o)};import{a as i}from"./vendor-1c5e86dd.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function o(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(l){if(l.ep)return;l.ep=!0;const r=o(l);fetch(l.href,r)}})();const I=document.querySelector(".about-book-modal"),O=document.querySelector("#modal-close");document.querySelector(".fire-base-backdrop");const m=document.querySelector(".js-backdrop-modal");function K(e){e.preventDefault();const t=this.getAttribute("data-book-id");I.classList.remove("is-hidden"),m.classList.remove("is-hidden"),console.log(t),Y(t)}function S(){I.classList.add("is-hidden"),m.classList.add("is-hidden")}O.addEventListener("click",S);document.addEventListener("keydown",function(e){e.key==="Escape"&&S()});m.addEventListener("click",function(e){e.target===m&&S()});const V="data:image/png;base64,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",J="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAgCAYAAACcuBHKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOASURBVHgB7VdLaBRBEH3Vm91V/KwK/mIOcQ/GXPwgQQ8qSLz4QUWEXMSLIHjLxd/FY0CCSrxoQJEc1VMgIDkYEURCVEyCEA8aI35WQ0STYEyyO132zOzOdk9mZicQbykYZrrnddXrV101u8CiuUZRL7kjvcWShb0EWiuAlORovG6CwFIiz+BviaT1ks5gCPMhwfdQx0g+UI/bsXA2TLP5RjqPEVQiwe3YyiLZC6JMcQbBXMPmI3F5Im6gs/kBHVE1ZwmlHqt1GWdtMM8K85G4pMroQ2ZsJSpHEDqicCd1kiXVqguQdlLNe+mZfe/C5kLwW6z29CE9rkGCmA4oKWw5wAH30rMfEzYXjhdH9LhGOhTLLAXJXLUCyB4FVS1TAws8PgJ8eaJYCxO3aT9oRRZIpMBTOWD0FfAnh4AMVYeSEExpZh++4TJoRzOQXqn5UPbjNWT3aWDiE7C8BnTwLqhmv4mZGQf3XQMPtqkd6o5puRFXH0hLjbX8U+1x0O6rBgHP1u9Sge8rnHJyrNMg4Fk6A9rXAsqegu5XMItQJcA+eZfVIMqoeg84Uw+sqY/EYcl69yyUTJopN0lYtmcqVzbHKMPV2ypj2Dlvjk92Q4ST8E5vEWxLXZEGVVVCuH5luTFIcDgJVyYydhArQEUQzBREKQFL2M2iiOJ46YhBdA6JSCXsd17gmG05Nglt7OsvPiXILdqS41hKxMSUlCAfIQQowZpsJFHZ4mBYOzts84goURtIPL+DGY8EGWfC7zbgYPoWl2z6N3hs2Cly2rQzGFPIg39+UNhx0Lo6YOmqIlGa06BCSSgV2KBpy/h1ALLrCjj3RjkquJNLVkHsPgfReNHbluy5Ae69Df77y+tGNllx4tb8qoMltL6m1r3tBPo6ysFd18DUOOTTVvWYcKZldwvk85tFCHl3/twPq22vUiRjpI2jzoRSYtILZDuaHNPfwm+yRxGp3Qfuf6Q+3wkEm0rx9GTZJzmbnQklYUnKGRVc8WAqwPtnTuu2K0nTylhq9z+vBTrVgY8+mmVLsOjSP7mxLvvLG/ATEAFj7w7u0eOSb1+Uv7BhSD3U4X8ZYSTV+n0zwpRwsmbJJiVZwW3hC3xJTDDR4bm8AowvbajNz8L+EZnFghkPsqCm9PXcO8Qh4S1r3lhvCdHALKvViUrO52+gXaEq/3kSNMoJfhEUfNH89g83+MD9ZjdiQAAAAABJRU5ErkJggg==",T=document.querySelector("#allModal"),d=document.querySelector(".add-storage-button"),g=document.querySelector(".remove-modal-btn"),U=document.querySelector(".storage-description"),u="storage-data";d.addEventListener("click",N);g.addEventListener("click",P);async function Y(e){T.innerHTML="";try{const t=await Z(e);return L(),F(t),t}catch(t){throw console.error("Error",t),t}}async function Z(e){try{p={};const o=await(await fetch(`https://books-backend.p.goit.global/books/${e}`)).json();return p={book_image:o.book_image,title:o.title,author:o.author,marketAmazon:o.buy_links[0].url,marketAppleBooks:o.buy_links[1].url,marketBookshop:o.buy_links[4].url,list_name:o.list_name,id:o._id},o}catch(t){throw console.error("Error",t),t}}function L(){const e=JSON.parse(localStorage.getItem(u)),t=p.id;if(!e||e.length===0){d.style.display="block",g.style.display="none";return}else e.find(s=>s.id===t)?(d.style.display="none",g.style.display="block"):(d.style.display="block",g.style.display="none")}function F(e){const t=e.book_image,o=e.title,s=e.author,l=e.buy_links[0].url,r=e.buy_links[1].url,a=e.description,Q=` <div class="modal" id="bookModal">
        <img src="${t}" alt="Book Cover" class="image-about-book-modal">
        <div class="modal-text">
        <h2 id="modalTitle" class="title-about-book-modal">${o}</h2>
        <p class="author-about-book-modal"> ${s}</p>
        <p class="text-about-book-modal">${a}</p>
        <div id="platformLinks">
        <ul class="shop-modal-list">
        <li class="shop-modal-item">
          <a href="${l}" target="_blank">
          <img width="62" height="19" src="${V}"alt="Amazon"/>
          </a>
        </li>
        <li class="shop-modal-item"><a href="${r}" target="_blank">
        <img width="33" height="32" src="${J}" alt="AppleBooks"/>
        </a>
        </li>
        </ul>
        </div>
        </div>`;T.innerHTML=Q}let E=[],p={};function N(){const e=p;!realStorageArr||realStorageArr.length===0?(E.push(e),localStorage.setItem(u,JSON.stringify(E))):(realStorageArr.push(e),localStorage.setItem(u,JSON.stringify(realStorageArr))),U.textContent="Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.",L()}function P(){localStorage.removeItem(localStorage.getItem(u)),L()}var n;class v{constructor(t,o){B(this,n,"https://books-backend.p.goit.global/");this.selectedCategory=t,this.bookId=o}fetchBooksCategoryList(){return i.get(`${c(this,n)}books/category-list`)}fetchBestSellersBooks(){return i.get(`${c(this,n)}books/top-books`)}fetchBooksByCategory(t){return i.get(`${c(this,n)}books/category?category=${t}`)}fetchBookById(t){return i.get(`${c(this,n)}books/${t}`)}}n=new WeakMap;const M=document.querySelector(".best-sellers-books"),G=new v;q();async function q(){return await G.fetchBestSellersBooks().then(t=>t.data.map(o=>{const s=o.books.map(l=>`<li class="best-sellers-book js-open-modal" data-book-id="${l._id}">
             <img class="best-sellers-book-img" src="${l.book_image}" alt="${l.title}" />
             <p class="best-sellers-book-title">${l.title}</p>
             <p class="best-sellers-book-author">${l.author}</p>
             <p class="book-overlay">Quick view</p>
</li>`).join("");M.insertAdjacentHTML("beforeend",`<li class="best-seller-category"> 
                <p class="category-title"> ${o.list_name} </p> 
                <ul class="best-sellers-list-in-category">
                ${s} 
                </ul> 
                <button type="button" class="best-sellers-see-more-button" data-button-category-name="${o.list_name}">See more</button>
                    </li>`)}).join("")).then(()=>{document.querySelectorAll(".js-open-modal").forEach(function(o){o.addEventListener("click",K)})}).catch(t=>{console.log(t.message),M.innerHTML="No information"})}function D(e){const t=document.querySelector(".category"),o=e.target;t.querySelectorAll("a").forEach(l=>{l.classList.remove("active")}),o.classList.add("active")}const x=new v,A=document.querySelector(".best-sellers-books"),z=document.querySelector(".home-page-title");function W(e){const t=e.split(" "),o=t.pop(),l=`${t.join(" ")} <span class="home-page-title-accent">${o}</span>`;return e==="All categories"?`
    Best Sellers <span class="home-page-title-accent">Books</span>`:l}function $(e){e.preventDefault(),e.target.dataset.categoryName==="All categories"&&q();const t=this.getAttribute("data-category-name");D(e),z.innerHTML=W(t),A.innerHTML="",_(t)}async function _(e){await x.fetchBooksByCategory(e).then(t=>{const o=t.data.map(s=>`<li class="category-book js-open-modal" data-book-id="${s._id}">
             <img class="best-sellers-book-img" src="${s.book_image}" alt="${s.title}" />
             <p class="best-sellers-book-title">${s.title}</p>
             <p class="best-sellers-book-author">${s.author}</p>
             <p class="book-overlay">Quick view</p>
</li>`).join("");A.classList.replace("best-sellers-books","category-books"),A.innerHTML=o})}const ee=document.querySelector(".category");function te(e){e.sort((o,s)=>o.list_name.localeCompare(s.list_name));const t=e.map(o=>{const{list_name:s}=o;return`<li><a class='genre' href="#" target="_self" data-category-name="${s}">${s}</a></li>`}).join("");ee.insertAdjacentHTML("beforeend",t)}function oe(){new v().fetchBooksCategoryList().then(t=>{const o=t.data;te(o)}).then(()=>{document.querySelectorAll(".genre").forEach(function(o){o.addEventListener("click",$)})}).catch(t=>{console.error(t)})}oe();const se=document.querySelectorAll("link[rel=stylesheet][media*=prefers-color-scheme][media*=light]"),le=document.querySelectorAll("link[rel=stylesheet][media*=prefers-color-scheme][media*=dark]"),re=matchMedia("(prefers-color-scheme: dark)"),w=document.querySelector("#themeSwitch");function ne(){const e=j();e!==null&&(w.checked=e==="dark"),w.addEventListener("change",t=>{const o=t.target.checked?"dark":"light";H(o)})}function ae(){const e=j(),t=ie();e!==null&&e!==t&&H(e)}function H(e){ce(e),e==="auto"?ge():de(e)}function ce(e){let t,o;e==="auto"?(t="(prefers-color-scheme: light)",o="(prefers-color-scheme: dark)"):(t=e==="light"?"all":"not all",o=e==="dark"?"all":"not all"),se.forEach(s=>{s.media=t}),le.forEach(s=>{s.media=o})}function ie(){return re.matches?"dark":"light"}function j(){return localStorage.getItem("color-scheme")}function de(e){localStorage.setItem("color-scheme",e)}function ge(){localStorage.removeItem("color-scheme")}ne();ae();const h=document.querySelector(".header-modal"),me=document.querySelector(".modal-open-btn"),C=document.querySelector("body"),y=document.querySelector(".open-icon");console.dir(y.innerHTML);me.addEventListener("click",ue);function ue(e){if(h.classList.contains("hidden-modal")){h.classList.remove("hidden-modal"),C.classList.add("stop-scrolling"),y.innerHTML='<use href="./img/sprit.svg#icon-x"/>';return}else h.classList.add("hidden-modal"),C.classList.remove("stop-scrolling"),y.innerHTML='<use href="./img/sprit.svg#icon-burger"/>'}const pe=document.querySelector(".js-home-link"),he=document.querySelector(".js-shopping-link"),Ae=location.pathname;Ae==="/project-DreamTeam/shoping-list.html"?he.classList.add("current"):pe.classList.add("current");const f=document.querySelector(".shopping-list-cards");document.querySelector(".shopping-list-btn-delete");const b=document.querySelector(".shopping-list-storage");document.deleteCardItem=function(t){let o=X(k);o=o.filter(l=>l.id!==t),localStorage.setItem(k,JSON.stringify(o)),document.getElementById(""+t).remove(),o.length===0&&(f.style.display="none",b.style.display="block")};function ye(e){return e.map(t=>`
  <li class="shopping-list-card" id="${t.id}">
        <div class="shopping-list-card-img">
          <img src="${t.book_image}" alt="${t.title}"/>
        </div>
        <div class="shopping-list-blok">
          <h2 class="shopping-list-book-title">"${t.title}"</h2>
          <p class="shopping-list-book-category">"${t.list_name}"</p>
          <p class="shopping-list-book-description">"${t.description}"</p>
          <p class="shopping-list-book-autor">"${t.author}"</p>
        </div>
        <ul class="shopping-list-shops">
          <li class="shopping-list-shop">
            <a
              href="${t.marketAmazon}"
              target="_blank"
              rel="noopener noreferrer"
            >
              <img src="./img/amazon.png" class="amazon" alt="${t.marketAmazon}" />
            </a>
          </li>
          <li class="shopping-list-shop">
            <a
              href="${t.marketAppleBooks}"
              target="_blank"
              rel="noopener noreferrer"
            >
              <img src="./img/appleBook.png" class="appleBook" alt="${t.marketAppleBooks}" />
            </a>
          </li>
        </ul>
        <button
          type="button"
          onClick = "deleteCardItem('${t.id}')"
          class="shopping-list-btn-delete"
        >
          <svg class="shopping-list-btn-delete-icon" width="18" height="18">
            <use href=./img/sprit.svg#icon-trash-03"></use>
          </svg>
        </button>
      </li>`).join("")}const k="storage-data";function X(e){const t=localStorage.getItem(e);t===null||JSON.parse(t)}function fe(){const e=X(k);e&&e.length>0?(b.style.display="none",f.innerHTML=ye(e)):(f.style.display="none",b.style.display="block")}fe();const be={btn:document.querySelector(".scrollBtn"),show(){this.btn.classList.remove("scrollBtn-hide")},hide(){this.btn.classList.add("scrollBtn-hide")},addEventListener(){this.btn&&(window.addEventListener("scroll",()=>{(window.scrollY||document.documentElement.scrollTop)>100?this.show():this.hide()}),this.btn.onclick=()=>{window.scrollTo({top:0,behavior:"smooth"})})}};be.addEventListener();const ke=document.querySelector(".nav-btn");ke.addEventListener("click",Se);function Se(){const e=document.querySelector(".fonds"),t=e.querySelector("li").offsetHeight,o=document.querySelector(".icon-down"),s=document.querySelector(".icon-up");if(e.scrollTop+e.clientHeight>=e.scrollHeight)for(;e.scrollTop!==0;)e.scrollTop-=t;else e.scrollTop+=2*t;e.scrollTop+e.clientHeight<e.scrollHeight?(o.classList.remove("is-hidden"),s.classList.add("is-hidden")):(o.classList.add("is-hidden"),s.classList.remove("is-hidden"))}
//# sourceMappingURL=main-a4e2d22e.js.map
