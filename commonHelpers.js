var v=(e,t,o)=>{if(!t.has(e))throw TypeError("Cannot "+o)};var n=(e,t,o)=>(v(e,t,"read from private field"),o?o.call(e):t.get(e)),m=(e,t,o)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,o)};import"./assets/rent-block-c020005c.js";import{a as r}from"./assets/vendor-1c5e86dd.js";var l;class u{constructor(t,o){m(this,l,"https://books-backend.p.goit.global/");this.selectedCategory=t,this.bookId=o}fetchBooksCategoryList(){return r.get(`${n(this,l)}books/category-list`)}fetchBestSellersBooks(){return r.get(`${n(this,l)}books/top-books`)}fetchBooksByCategory(t){return r.get(`${n(this,l)}books/category?category=${t}`)}fetchBookById(t){return r.get(`${n(this,l)}books/${t}`)}}l=new WeakMap;function B(e){const t=document.querySelector(".category"),o=e.target;t.querySelectorAll("a").forEach(c=>{c.classList.remove("active")}),o.classList.add("active")}const q=new u,i=document.querySelector(".best-sellers-books"),w=document.querySelector(".home-page-title");function E(e){const t=e.split(" "),o=t.pop(),c=`${t.join(" ")} <span class="home-page-title-accent">${o}</span>`;return e==="All categories"?`
    Best Sellers <span class="home-page-title-accent">Books</span>`:c}function y(e){e.preventDefault(),e.target.dataset.categoryName==="All categories"&&f();const t=this.getAttribute("data-category-name");B(e),w.innerHTML=E(t),i.innerHTML="",$(t)}async function $(e){await q.fetchBooksByCategory(e).then(t=>{const o=t.data.map(s=>`<li class="category-book js-open-modal" data-book-id="${s._id}">
             <img class="best-sellers-book-img" src="${s.book_image}" alt="${s.title}" />
             <p class="best-sellers-book-title">${s.title}</p>
             <p class="best-sellers-book-author">${s.author}</p>
             <p class="book-overlay">Quick view</p>
</li>`).join("");i.classList.replace("best-sellers-books","category-books"),i.innerHTML=o}).then(()=>{document.querySelectorAll(".js-open-modal").forEach(function(o){o.addEventListener("click",openModalId)})})}const h=document.querySelector(".best-sellers-books"),M=new u;f();async function f(){return await M.fetchBestSellersBooks().then(t=>t.data.map(o=>{const s=o.books.map(c=>`<li class="best-sellers-book js-open-modal" data-book-id="${c._id}">
             <img class="best-sellers-book-img" src="${c.book_image}" alt="${c.title}" />
             <p class="best-sellers-book-title">${c.title}</p>
             <p class="best-sellers-book-author">${c.author}</p>
             <p class="book-overlay">Quick view</p>

            </li>`).join("");h.insertAdjacentHTML("beforeend",`<li class="best-seller-category"> 
                <p class="category-title"> ${o.list_name} </p> 
                <ul class="best-sellers-list-in-category">
                ${s} 
                </ul> 

                <button type="button" class="best-sellers-see-more-button" data-category-name="${o.list_name}">See more</button>
                    </li>`)}).join("")).then(()=>{document.querySelectorAll(".best-sellers-see-more-button").forEach(function(o){o.addEventListener("click",y)})}).catch(t=>{console.log(t.message),h.innerHTML="No information"})}const A=document.querySelector(".category");function T(e){e.sort((o,s)=>o.list_name.localeCompare(s.list_name));const t=e.map(o=>{const{list_name:s}=o;return`<li><a class='genre' href="#" target="_self" data-category-name="${s}">${s}</a></li>`}).join("");A.insertAdjacentHTML("beforeend",t)}function C(){new u().fetchBooksCategoryList().then(t=>{const o=t.data;T(o)}).then(()=>{document.querySelectorAll(".genre").forEach(function(o){o.addEventListener("click",y)})}).catch(t=>{console.error(t)})}C();const H=document.querySelectorAll("link[rel=stylesheet][media*=prefers-color-scheme][media*=light]"),_=document.querySelectorAll("link[rel=stylesheet][media*=prefers-color-scheme][media*=dark]"),I=matchMedia("(prefers-color-scheme: dark)"),g=document.querySelector("#themeSwitch");function j(){const e=b();e!==null&&(g.checked=e==="dark"),g.addEventListener("change",t=>{const o=t.target.checked?"dark":"light";k(o)})}function W(){const e=b(),t=P();e!==null&&e!==t&&k(e)}function k(e){N(e),e==="auto"?Y():R(e)}function N(e){let t,o;e==="auto"?(t="(prefers-color-scheme: light)",o="(prefers-color-scheme: dark)"):(t=e==="light"?"all":"not all",o=e==="dark"?"all":"not all"),H.forEach(s=>{s.media=t}),_.forEach(s=>{s.media=o})}function P(){return I.matches?"dark":"light"}function b(){return localStorage.getItem("color-scheme")}function R(e){localStorage.setItem("color-scheme",e)}function Y(){localStorage.removeItem("color-scheme")}j();W();const a=document.querySelector(".header-modal"),x=document.querySelector(".modal-open-btn"),p=document.querySelector("body"),d=document.querySelector(".open-icon");console.dir(d.innerHTML);x.addEventListener("click",D);function D(e){if(a.classList.contains("hidden-modal")){a.classList.remove("hidden-modal"),p.classList.add("stop-scrolling"),d.innerHTML='<use href="./img/sprit.svg#icon-x"/>';return}else a.classList.add("hidden-modal"),p.classList.remove("stop-scrolling"),d.innerHTML='<use href="./img/sprit.svg#icon-burger"/>'}const O=document.querySelectorAll(".header-nav-link");console.log(location.pathname);const S=location.pathname;console.log(S);O.forEach(function(e){const t=e.getAttribute("href");console.log(t),`.${S}`===t&&e.classList.add("current")});const Q={btn:document.querySelector(".scrollBtn"),show(){this.btn.classList.remove("scrollBtn-hide")},hide(){this.btn.classList.add("scrollBtn-hide")},addEventListener(){this.btn&&(window.addEventListener("scroll",()=>{(window.scrollY||document.documentElement.scrollTop)>100?this.show():this.hide()}),this.btn.onclick=()=>{window.scrollTo({top:0,behavior:"smooth"})})}};Q.addEventListener();const U=document.querySelector(".nav-btn");U.addEventListener("click",V);function V(){const e=document.querySelector(".fonds"),t=e.querySelector("li").offsetHeight,o=document.querySelector(".icon-down"),s=document.querySelector(".icon-up");if(e.scrollTop+e.clientHeight>=e.scrollHeight)for(;e.scrollTop!==0;)e.scrollTop-=t;else e.scrollTop+=2*t;e.scrollTop+e.clientHeight<e.scrollHeight?(o.classList.remove("is-hidden"),s.classList.add("is-hidden")):(o.classList.add("is-hidden"),s.classList.remove("is-hidden"))}const z=document.querySelector(".best-sellers-book-img"),L=document.getElementById(myModal);z.addEventListener("click",F());function F(){L.style.display="block"}const G=document.querySelector(".about-close");G.addEventListener("click",J());function J(){L.style.display="none"}
//# sourceMappingURL=commonHelpers.js.map
